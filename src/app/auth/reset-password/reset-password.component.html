<div class="main-page">
  <div class="row vh-100 d-flex justify-content-center">
    <div class="col-md-6">
      <div class="h-100 d-flex align-items-center px-3 justify-content-center">
        <div class="d-block text-center form-container">
          <img src="../../../assets/images/logo-long.png" class="logo">
          <hr>
          <h3 class="card-title fs-4 my-4 fw-bold">Create New Password</h3>
          <form [formGroup]="form" class="text-start" (submit)="resetPassword()">
            <p>
              Enter a new password and confirm it to reset your Avery Cloud account password.
            </p>
            <div class="mb-3">
              <div class="input-group flex-nowrap">
                <input type="password" #psswdFld name="password" autocomplete="current-password"
                  formControlName="password" class="form-control form-control-lg" placeholder="New Password">
                <a class="input-group-text"
                  (click)="psswdFld.getAttribute('type') === 'password' ? psswdFld.setAttribute('type', 'text') : psswdFld.setAttribute('type', 'password')">
                  <i class="bi bi-eye"></i>
                </a>
              </div>
              <app-validation-message [form]="form" [showErrors]="showValidationErrors" [field]="'password'">
              </app-validation-message>
            </div>
            <div class="mb-3">
              <div class="input-group flex-nowrap">
                <input type="password" #psswdCfnFld autocomplete="new-password" name="passwordConfirmation"
                  formControlName="passwordConfirmation" class="form-control form-control-lg"
                  placeholder="Repeat new password">
                <a class="input-group-text"
                  (click)="psswdCfnFld.getAttribute('type') === 'password' ? psswdCfnFld.setAttribute('type', 'text') : psswdCfnFld.setAttribute('type', 'password')">
                  <i class="bi bi-eye"></i>
                </a>
              </div>
              <app-validation-message [form]="form" [showErrors]="showValidationErrors"
                [field]="'passwordConfirmation'"></app-validation-message>
              <div class="text-danger fw-semibold my-2"
                *ngIf="form.controls['passwordConfirmation'].value.length >= 6 && form.controls['password'].value.length >= 6 && form.controls['passwordConfirmation'].value !== form.controls['password'].value">
                Passwords do not match
              </div>
            </div>


            <button type="submit mb-5 mt-1" class="btn btn-primary btn-lg w-100 justify-content-center">
              <span *ngIf="!loading"> <i class="bi bi-arrow-right fw-bold me-2"></i> Reset Password</span>
              <span *ngIf="loading">
                <app-spinner></app-spinner> Please, wait ...
              </span>
            </button>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
